<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <title>undefined</title>

        <link href="/normalize.css" rel="stylesheet" />
        <link href="/reset.css" rel="stylesheet" />
        <link href="/brixi.css" rel="stylesheet" />
        <link href="/base.css" rel="stylesheet" />

        <script defer src="/prism.js"></script>
        <link href="/prism.css" rel="stylesheet" />

        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet" />

        <script defer src="/nav.js"></script>
        <script defer src="/page-jump-generator.js"></script>
    </head>
    <body>
        <main>
            <aside><nav><header>Documents</header><a href="/code-of-conduct" data-slug="/code-of-conduct"><span>code of conduct</span></a><a href="/configuration" data-slug="/configuration"><span>configuration</span></a><a href="/contributing" data-slug="/contributing"><span>contributing</span></a><a href="/developers" data-slug="/developers"><span>developers</span></a><a href="/installation" data-slug="/installation"><span>installation</span></a><a href="/readme" data-slug="/readme"><span>readme</span></a><header>core</header><a href="/core/importing-resources" data-slug="/core/importing-resources"><span>importing resources</span></a><a href="/core/lazy-loading" data-slug="/core/lazy-loading"><span>lazy loading</span></a><a href="/core/pjax" data-slug="/core/pjax"><span>pjax</span></a><a href="/core/progressive-enhancements" data-slug="/core/progressive-enhancements"><span>progressive enhancements</span></a><a href="/core/requesting-css" data-slug="/core/requesting-css"><span>requesting css</span></a><a href="/core/web-components" data-slug="/core/web-components"><span>web components</span></a><header>guides</header><a href="/guides/adding-npm-packages" data-slug="/guides/adding-npm-packages"><span>adding npm packages</span></a><a href="/guides/demo-project" data-slug="/guides/demo-project"><span>demo project</span></a><a href="/guides/frameworks" data-slug="/guides/frameworks"><span>frameworks</span></a><header>loading states</header><a href="/loading-states/hard" data-slug="/loading-states/hard"><span>hard</span></a><a href="/loading-states/page" data-slug="/loading-states/page"><span>page</span></a><a href="/loading-states/soft" data-slug="/loading-states/soft"><span>soft</span></a><header>messaging system</header><a href="/messaging-system/actor-model" data-slug="/messaging-system/actor-model"><span>actor model</span></a><a href="/messaging-system/actors" data-slug="/messaging-system/actors"><span>actors</span></a><a href="/messaging-system/broadcaster" data-slug="/messaging-system/broadcaster"><span>broadcaster</span></a><a href="/messaging-system/hooks" data-slug="/messaging-system/hooks"><span>hooks</span></a><a href="/messaging-system/sending-messages" data-slug="/messaging-system/sending-messages"><span>sending messages</span></a></nav></aside>
            <article><h1 id="sendingmessages">Sending Messages</h1>
<p>As stated in the <a href="/messaging/actor-model">Actor Model</a> page DjinnJS uses a modified version of the <a href="https://en.wikipedia.org/wiki/Actor_model">Actor Model</a>. The key difference is that not all controllers within the system are Actors. Developers will choose what controllers will become actors by registering an inbox with the <a href="/messaging/broadcaster">Broadcaster</a>. However, any controller within the system can send messages to Actors by using the Broadcaster class.</p>
<h2 id="message">Message</h2>
<p><strong>Message Settings</strong></p>
<pre><code class="typescript language-typescript">type settings = {
    recipient: string;
    type: string;
    data: {
        [key: string]: any;
    };
    senderId?: string;
    maxAttempts?: number;
};
</code></pre>
<p><strong>Example</strong></p>
<pre><code class="javascript language-javascript">import { message } from 'djinnjs/broadcaster';

message({
    recipient: 'inbox-alias',
    type: 'message',
    data: {
        message: 'This is an example'
    }
});
</code></pre>
<h2 id="reply">Reply</h2>
<p>If a sender provides a <code>senderId</code> value the <code>data</code> object sent to the inbox will contain a <code>replyId</code> value. You can use this value to respond directly to the sender using <code>reply()</code> or you can reply to the sender and all the other recipients using <code>replyAll()</code></p>
<p><strong>Reply Settings</strong></p>
<pre><code class="typescript language-typescript">type settings = {
    replyId: string;
    type: string;
    data: {
        [key: string]: any;
    };
    senderId?: string;
    maxAttempts?: number;
};
</code></pre>
<p><strong>Example</strong></p>
<pre><code class="javascript language-javascript">import { reply } from 'djinnjs/broadcaster';

inbox(data){
    switch (data.type){
        case "message":
            console.log(data.message);
            reply({
                replyId: data.replyId,
                type: 'message',
                data: {
                    message: 'This is an example response'
                }
            });
            break;
        default:
            console.warn(`Undefined message type: ${data.type}`);
            break;
    }
}
</code></pre></article>
        </main>
    </body>
</html>
